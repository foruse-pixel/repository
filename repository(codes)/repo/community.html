<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Anime Community</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background: #f4f4f9;
    }
    header {
      background: #222;
      color: white;
      padding: 10px 20px;
    }
    nav a {
      margin-right: 15px;
      color: white;
      text-decoration: none;
    }
    .post {
      background: white;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 20px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .post h3 {
      margin: 0 0 10px;
    }
    .comments {
      margin-top: 15px;
      padding-left: 15px;
      border-left: 3px solid #ddd;
    }
    .comments h4 {
      margin: 0 0 10px;
      font-size: 14px;
      color: #555;
    }
    .comments ul {
      list-style: none;
      padding: 0;
      margin: 0 0 10px;
    }
    .comments li {
      background: #f9f9f9;
      padding: 5px 10px;
      margin-bottom: 5px;
      border-radius: 5px;
    }
    input[type="text"] {
      padding: 5px;
      width: 70%;
    }
    button {
      padding: 6px 10px;
      margin-left: 5px;
      border: none;
      border-radius: 5px;
      background: #007bff;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background: #0056b3;
    }
  </style>
</head>
<body>
  <header>
    <nav>
      <a href="index.html">üè† Home</a>
      <a href="videos.html">üé¨ Videos</a>
      <a href="community.html">üí¨ Community</a>
    </nav>
  </header>

  <h1>Anime Community</h1>
  <p>Vote, comment, and discuss your favorite anime!</p>

  <div id="posts"></div>

  <script>
    // Fake posts (later we can make these user-generated)
    const posts = [
      { id: "op", title: "One Piece Opening", votes: 0 },
      { id: "aot", title: "Attack on Titan Ending", votes: 0 },
      { id: "ds", title: "Demon Slayer Fight Scene", votes: 0 }
    ];

    let comments = {}; // Store comments for each post

    function renderPosts() {
      const container = document.getElementById("posts");
      container.innerHTML = "";

      posts.forEach(post => {
        const div = document.createElement("div");
        div.className = "post";
        div.innerHTML = `
          <h3>${post.title}</h3>
          <p>Votes: <span id="votes-${post.id}">${post.votes}</span></p>
          <button onclick="vote('${post.id}')">Vote</button>

          <div class="comments">
            <h4>Comments</h4>
            <ul id="comments-${post.id}"></ul>
            <input type="text" id="input-${post.id}" placeholder="Write a comment...">
            <button onclick="addComment('${post.id}')">Post</button>
          </div>
        `;
        container.appendChild(div);

        renderComments(post.id);
      });
    }

    function vote(postId) {
      const post = posts.find(p => p.id === postId);
      post.votes++;
      document.getElementById("votes-" + postId).textContent = post.votes;
      alert("You voted for: " + post.title);
    }

    function addComment(postId) {
      const input = document.getElementById("input-" + postId);
      const text = input.value.trim();
      if (!text) return;

      if (!comments[postId]) comments[postId] = [];
      comments[postId].push(text);

      input.value = "";
      renderComments(postId);
    }

    function renderComments(postId) {
      const list = document.getElementById("comments-" + postId);
      list.innerHTML = "";
      if (comments[postId]) {
        comments[postId].forEach(c => {
          const li = document.createElement("li");
          li.textContent = c;
          list.appendChild(li);
        });
      }
    }

    // Load posts on start
    renderPosts();
  </script>
</body>
</html>
